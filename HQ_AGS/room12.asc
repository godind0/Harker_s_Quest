// room script file
bool gameIsStarted = false;


function room_AfterFadeIn()
{
  int minutesOfTravel;
  
  if(!gameIsStarted)
  {
    musicFirstSetup(aIntrigue);
    gameIsStarted = true;
  }  
  
  if(getTravellingBool())
  {
    minutesOfTravel = travelDestinationTimeInMinutes(getCurrentZone(), getWantedDestination());
    addTime(0, minutesOfTravel, 0, 0);
    
    player.Say("Oh no!");
    player.Say(isThisPlaceOpened(getCommerceType(getWantedDestination())));
    if(getRealDestination() == getCurrentZone())
    {
      player.Say("I guess I'll just go back to where I came from");
    } else if (getRealDestination() == JonathanApt)
    {
      player.Say("I guess I'll just go home");
    } else
    {
      player.Say("I guess I'll just go back to the train station");
    }
    travel(getRealDestination());
  }
}

function room_Load()
{
  
}
